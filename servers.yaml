---
-
  box: bento/centos-7.4
  cpu: 2
  ip: "10.16.33.141"
  name: ld07677
  forward_ports:
    - { guest: 22, host: 9999, id: "ssh" }
  ram: 4096
  shell_commands:
      - { shell: 'setenforce 0 || true'}
      - { shell: 'swapoff -a'} 
      - { shell: 'systemctl stop firewalld && systemctl disable firewalld'}
      - { shell: 'echo -e "10.16.33.141 kubernetes\n10.16.33.141 ld07677\n10.16.33.141 ld07519.homedepot.com">>/etc/hosts'}
      - { shell: 'sudo rpm -Uvh https://yum.puppet.com/puppet5/puppet5-release-el-7.noarch.rpm'}
      - { shell: 'yum install vim git puppet-agent rubygems ruby-devel -y' }
      - { shell: 'gem install r10k'}
      - { shell: 'ln -s /usr/local/bin/r10k /usr/bin/r10k' }
      - { shell: 'cp /home/vagrant/ld07677/Puppetfile /tmp && cd /tmp && r10k puppetfile install --verbose' }
      - { shell: 'cp /home/vagrant/ld07677/modules/* -R /tmp/modules || true'}

